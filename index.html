<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>PX01 QU·∫¢NG TR·ªä - D·ªÆ LI·ªÜU TUY·ªÇN SINH 2026</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500;600;700;800;900&display=swap');
        
        :root {
            --police-red: #ce181e; 
            --police-gold: #ffda44;
            --police-dark: #111827;
            --bg-tech: #f0f2f5;
        }

        body { 
            font-family: 'Lexend', sans-serif; 
            background: #000; 
            margin: 0; padding: 0;
            -webkit-user-select: none; user-select: none;
            overflow: hidden; touch-action: manipulation;
        }

        .app-shell {
            height: 100vh; max-width: 500px; margin: 0 auto;
            background: #fff; display: flex; flex-direction: column;
            position: relative; overflow: hidden; box-shadow: 0 0 50px rgba(255, 218, 68, 0.1);
        }

        /* --- HEADER CHU·∫®N ƒêI·ªÄU L·ªÜNH --- */
        .header-official {
            background: linear-gradient(180deg, #ce181e 0%, #b01419 100%);
            padding: 30px 20px 20px;
            text-align: center;
            border-bottom: 4px solid var(--police-gold);
            box-shadow: 0 10px 30px rgba(206, 24, 30, 0.4);
            position: relative; z-index: 50;
        }
        .header-official h2 {
            color: var(--police-gold); font-size: 10px; font-weight: 700;
            text-transform: uppercase; letter-spacing: 2px; margin-bottom: 4px;
            opacity: 0.95;
        }
        .header-official h1 {
            color: white; font-size: 20px; font-weight: 900;
            text-transform: uppercase; letter-spacing: 0.5px; line-height: 1.3;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        .header-official p {
            color: var(--police-gold); font-size: 11px; font-weight: 700;
            text-transform: uppercase; letter-spacing: 1px; margin-top: 8px;
        }
        
        /* N√∫t m·ªü Modal d·ªØ li·ªáu */
        .data-btn {
            position: absolute; top: 20px; right: 20px;
            color: var(--police-gold); font-size: 18px; cursor: pointer;
            width: 36px; height: 36px; display: flex; align-items: center; justify-content: center;
            background: rgba(0,0,0,0.2); border-radius: 8px; border: 1px solid rgba(255, 218, 68, 0.3);
            transition: all 0.2s; animation: pulse-gold 2s infinite;
        }
        @keyframes pulse-gold { 0% { box-shadow: 0 0 0 0 rgba(255, 218, 68, 0.4); } 70% { box-shadow: 0 0 0 10px rgba(255, 218, 68, 0); } 100% { box-shadow: 0 0 0 0 rgba(255, 218, 68, 0); } }

        /* --- CHAT AREA --- */
        .chat-area { 
            background: #f9fafb; flex: 1; overflow-y: auto; padding: 20px; 
            position: relative;
            background-image: radial-gradient(#ce181e 0.5px, transparent 0.5px);
            background-size: 20px 20px; opacity: 0.98;
        }

        .watermark {
            position: absolute; inset: 0; display: grid;
            grid-template-columns: repeat(2, 1fr); grid-template-rows: repeat(8, 1fr);
            pointer-events: none; z-index: 0; opacity: 0.04;
        }
        .watermark-item {
            transform: rotate(-30deg); font-size: 11px; font-weight: 900;
            display: flex; align-items: center; justify-content: center; 
            color: var(--police-red);
        }
        
        .msg { margin-bottom: 20px; display: flex; flex-direction: column; max-width: 88%; position: relative; z-index: 10; animation: fadeUp 0.3s ease-out; }
        @keyframes fadeUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .bubble {
            padding: 14px 18px; font-size: 13px; line-height: 1.6;
            border-radius: 12px; position: relative; box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .bot .bubble { 
            background: white; color: #1f2937; border: 1px solid #e5e7eb;
            border-left: 4px solid var(--police-red);
        }
        .user .bubble { 
            background: var(--police-red); color: white; font-weight: 600;
            border-bottom-right-radius: 2px;
        }

        /* --- INPUT AREA --- */
        .input-container {
            padding: 15px; background: white; border-top: 2px solid #f3f4f6;
            display: flex; gap: 10px; align-items: center; z-index: 60;
        }
        .input-field {
            flex: 1; background: #f3f4f6; border-radius: 8px;
            padding: 14px 16px; font-size: 14px; border: 1px solid transparent;
            transition: all 0.3s; color: #111; outline: none; font-weight: 500;
        }
        .input-field:focus { background: white; border-color: var(--police-red); box-shadow: 0 0 0 3px rgba(206, 24, 30, 0.1); }

        .send-btn {
            width: 48px; height: 48px; background: var(--police-red); color: var(--police-gold);
            display: flex; align-items: center; justify-content: center; font-size: 18px;
            border-radius: 8px; transition: all 0.2s; cursor: pointer; border: none;
        }
        .send-btn:active { transform: scale(0.95); background: #b91c1c; }

        /* --- SUGGESTIONS --- */
        .suggestion-box {
            padding: 12px 20px; background: white; display: flex; gap: 8px; overflow-x: auto;
            border-top: 1px solid #f0f0f0;
        }
        .suggestion-chip {
            border: 1px solid #e5e7eb; color: var(--police-red); background: white;
            padding: 8px 14px; font-size: 10px; font-weight: 700; white-space: nowrap;
            border-radius: 6px; transition: all 0.2s; text-transform: uppercase;
        }
        .suggestion-chip:active { background: var(--police-red); color: white; border-color: var(--police-red); }

        /* --- MODAL --- */
        .modal-overlay {
            position: absolute; inset: 0; background: rgba(0,0,0,0.85);
            backdrop-filter: blur(5px); z-index: 100; display: none;
            align-items: center; justify-content: center; padding: 15px;
        }
        .modal-content {
            background: white; width: 100%; height: 90%; border-radius: 12px;
            overflow: hidden; display: flex; flex-direction: column;
            box-shadow: 0 20px 50px rgba(255,218,68,0.2); border: 1px solid var(--police-gold);
        }
        .modal-header {
            background: var(--police-red); padding: 15px 20px; color: white;
            display: flex; justify-content: space-between; align-items: center;
            border-bottom: 4px solid var(--police-gold);
        }
        .tab-bar { display: flex; background: #fff; border-bottom: 1px solid #e5e7eb; }
        .tab-btn {
            flex: 1; text-align: center; padding: 12px 5px; font-size: 10px;
            font-weight: 800; color: #9ca3af; text-transform: uppercase; cursor: pointer;
            border-bottom: 3px solid transparent; transition: all 0.3s;
        }
        .tab-btn.active { color: var(--police-red); border-bottom-color: var(--police-red); background: #fef2f2; }
        
        .no-scrollbar::-webkit-scrollbar { display: none; }
    </style>
</head>
<body oncontextmenu="return false">

    <div class="app-shell">
        <header class="header-official">
            <div class="data-btn" onclick="toggleModal('infoModal')"><i class="fas fa-database"></i></div>
            <h2>H·ªÜ TH·ªêNG D·ªÆ LI·ªÜU PX01</h2>
            <h1>TUY·ªÇN SINH 2026</h1>
            <p>C√îNG AN T·ªàNH QU·∫¢NG TR·ªä</p>
        </header>

        <div id="chatBox" class="chat-area no-scrollbar">
            <div class="watermark" id="watermark"></div>
        </div>

        <div id="suggestionBox" class="suggestion-box no-scrollbar"></div>

        <div class="input-container">
            <input type="text" id="userInput" class="input-field" placeholder="Nh·∫≠p n·ªôi dung c·∫ßn tra c·ª©u..." autocomplete="off">
            <button onclick="handleSend()" class="send-btn">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>

    <!-- MODAL TRUNG T√ÇM D·ªÆ LI·ªÜU -->
    <div id="infoModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <div>
                    <h3 class="font-bold uppercase text-sm tracking-wider text-white">C∆† S·ªû D·ªÆ LI·ªÜU G·ªêC</h3>
                    <p class="text-[10px] text-yellow-300 font-bold uppercase mt-1">PX01 - QU·∫¢NG TR·ªä</p>
                </div>
                <button onclick="toggleModal('infoModal')" class="text-2xl text-white hover:text-yellow-300">&times;</button>
            </div>
            
            <div class="tab-bar">
                <div class="tab-btn active" onclick="switchTab(this, 'tab-danhba')">DANH B·∫†</div>
                <div class="tab-btn" onclick="switchTab(this, 'tab-suckhoe')">S·ª®C KH·ªéE</div>
                <div class="tab-btn" onclick="switchTab(this, 'tab-dieukien')">ƒêI·ªÄU KI·ªÜN</div>
            </div>

            <div class="flex-1 overflow-y-auto p-4 bg-slate-50 space-y-4 no-scrollbar">
                
                <!-- Tab Danh B·∫° (T√≠ch h·ª£p Excel) -->
                <div id="tab-danhba" class="tab-content">
                    <div class="p-3 bg-white border border-red-200 rounded-lg mb-3 text-center shadow-sm">
                        <p class="text-[9px] font-bold text-red-500 uppercase tracking-widest">C√°n b·ªô ch·ªß tr√¨ PX01</p>
                        <p class="font-black text-gray-900 text-base mt-1">ƒê·∫°i √∫y L√ä HO√ÄNG TRUNG</p>
                        <p class="text-red-600 font-black text-lg mt-1 select-all">0977.556.858 - 0823.373.373</p>
                    </div>
                    <div class="relative mb-3">
                        <input type="text" id="searchContact" oninput="filterContact()" placeholder="T√¨m x√£/ph∆∞·ªùng/ƒë·∫∑c khu (VD: Gio Linh, Ba ƒê·ªìn)..." class="w-full p-2 pl-9 text-xs border border-gray-300 rounded-lg focus:outline-none focus:border-red-500 font-semibold text-gray-700">
                        <i class="fas fa-search absolute left-3 top-2.5 text-gray-400 text-xs"></i>
                    </div>
                    <div id="list-danhba" class="space-y-2"></div>
                </div>
                
                <!-- Tab S·ª©c kh·ªèe (T√≠ch h·ª£p TT62) -->
                <div id="tab-suckhoe" class="tab-content hidden">
                    <h4 class="text-[10px] font-black text-red-700 mb-2 uppercase border-l-4 border-red-700 pl-2">TI√äU CHU·∫®N L√ÇM S√ÄNG & C·∫¨N L√ÇM S√ÄNG</h4>
                    <div id="list-suckhoe" class="space-y-2"></div>
                </div>

                <!-- Tab ƒêi·ªÅu ki·ªán (T√≠ch h·ª£p VƒÉn b·∫£n m·ªõi) -->
                <div id="tab-dieukien" class="tab-content hidden">
                    <h4 class="text-[10px] font-black text-red-700 mb-2 uppercase border-l-4 border-red-700 pl-2">ƒê·ªêI T∆Ø·ª¢NG & NGUY√äN T·∫ÆC</h4>
                    <div id="list-dieukien" class="space-y-2"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        /****************************************************************
         * 1. C∆† S·ªû D·ªÆ LI·ªÜU T·ª∞ ƒê·ªòNG H√ìA (ƒê√É C·∫¨P NH·∫¨T T·ª™ FILE)
         ****************************************************************/
        
        // D·ªÆ LI·ªÜU DANH B·∫† (T·ª™ EXCEL)
        const DANH_BA_DATA = [
            { unit: "C√¥ng an Ph∆∞·ªùng ƒê·ªìng H·ªõi", name: "L√¢m H·∫£i ƒêƒÉng", phone: "0395.995.636" },
            { unit: "C√¥ng an Ph∆∞·ªùng ƒê·ªìng Thu·∫≠n", name: "ƒê·∫∑ng Di·ªáp Tu·∫•n Anh", phone: "0945.788.588" },
            { unit: "C√¥ng an Ph∆∞·ªùng ƒê·ªìng S∆°n", name: "ƒêinh Qu·ªëc To√†n", phone: "0986.687.373" },
            { unit: "C√¥ng an X√£ Nam Gianh", name: "V√µ Chi·∫øn Th·∫Øng", phone: "0327.688.823" },
            { unit: "C√¥ng an X√£ Nam Ba ƒê·ªìn", name: "Tr·∫ßn B·∫£o Ho√†ng", phone: "0836.680.080" },
            { unit: "C√¥ng an Ph∆∞·ªùng Ba ƒê·ªìn", name: "Tr·∫ßn VƒÉn H∆∞ng", phone: "0338.052.046" },
            { unit: "C√¥ng an Ph∆∞·ªùng B·∫Øc Gianh", name: "Phan Vi·ªát Chung", phone: "0354.733.222" },
            { unit: "C√¥ng an X√£ D√¢n H√≥a", name: "Nguy·ªÖn Duy Th√†nh", phone: "0378.417.456" },
            { unit: "C√¥ng an X√£ Kim ƒêi·ªÅn", name: "Ph·∫°m Th·∫ø Anh", phone: "0828.235.028" },
            { unit: "C√¥ng an X√£ Kim Ph√∫", name: "Cao ƒêinh S·ªπ H√πng", phone: "0336.020.120" },
            { unit: "C√¥ng an X√£ Minh H√≥a", name: "ƒêinh Tr·ªçng Ki·ªÅu", phone: "0909.038.099" },
            { unit: "C√¥ng an X√£ T√¢n Th√†nh", name: "ƒêinh S·ªπ Tu·∫•n", phone: "0946.266.087" },
            { unit: "C√¥ng an X√£ Tuy√™n L√¢m", name: "ƒê·∫∑ng Duy H·∫°nh", phone: "0918.973.5xx" },
            { unit: "C√¥ng an X√£ C·ªìn Ti√™n", name: "Nguy·ªÖn Vi·ªát D≈©ng", phone: "0844.069.555" },
            { unit: "C√¥ng an X√£ C·ª≠a Vi·ªát", name: "Tr·∫ßn C√¥ng Th·ª©c", phone: "0977.407.287" },
            { unit: "C√¥ng an X√£ Gio Linh", name: "L√™ Qu·ªëc Kh√°nh", phone: "0916.387.678" },
            { unit: "C√¥ng an X√£ B·∫øn H·∫£i", name: "Nguy·ªÖn Th·ªã Ki·ªÅu Nhi", phone: "0943.138.174" },
            { unit: "C√¥ng an X√£ H∆∞·ªõng L·∫≠p", name: "Tr·∫ßn H·ªØu ƒê·ª©c", phone: "0912.237.456" },
            { unit: "C√¥ng an X√£ H∆∞·ªõng Ph√πng", name: "Tr·∫ßn L√¢m Chi", phone: "0935.450.126" },
            { unit: "C√¥ng an X√£ Khe Sanh", name: "B√πi H·ªØu Ta", phone: "0338.480.673" },
            { unit: "C√¥ng an X√£ T√¢n L·∫≠p", name: "Tr·∫ßn B√¨nh D∆∞∆°ng", phone: "0973.670.611" },
            { unit: "C√¥ng an X√£ Lao B·∫£o", name: "Tr·∫ßn Ho√†ng Vi·ªát", phone: "0348.578.713" },
            { unit: "C√¥ng an X√£ L√¨a", name: "H·ªì √Åi ƒê√¥n", phone: "0905.371.123" },
            { unit: "C√¥ng an X√£ A D∆°i", name: "Nguy·ªÖn ƒê√¨nh Quy·∫øt", phone: "0382.291.164" },
            { unit: "C√¥ng an X√£ La Lay", name: "Nguy·ªÖn T·∫•t ƒê·∫°t", phone: "0944.626.234" },
            { unit: "C√¥ng an X√£ T√† R·ª•t", name: "Ho√†ng VƒÉn H·∫£i", phone: "0975.995.116" },
            { unit: "C√¥ng an X√£ ƒêakr√¥ng", name: "Tr·∫ßn Qu·ªëc Ho√†n", phone: "0985.887.469" },
            { unit: "C√¥ng an X√£ Ba L√≤ng", name: "H·ªì Ng·ªçc Ho√†n", phone: "0979.194.789" }
        ];

        // D·ªÆ LI·ªÜU S·ª®C KH·ªéE (T·ª™ FILE WORD TT62)
        const SUC_KHOE_DATA = [
            { title: "KH√ÅM C·∫¨N L√ÇM S√ÄNG", content: "‚Ä¢ X√©t nghi·ªám M√°u: HIV, Vi√™m gan B (HBsAg), Vi√™m gan C, ƒê∆∞·ªùng huy·∫øt, Ch·ª©c nƒÉng gan/th·∫≠n.<br>‚Ä¢ X√©t nghi·ªám N∆∞·ªõc ti·ªÉu: T·ªïng ph√¢n t√≠ch v√† <b>t√¨m ch·∫•t ma t√∫y</b>.<br>‚Ä¢ Ch·∫©n ƒëo√°n: X-quang ph·ªïi, Si√™u √¢m b·ª•ng, ƒêi·ªán tim." },
            { title: "CH·ªà S·ªê SINH T·ªíN", content: "‚Ä¢ Huy·∫øt √°p: 100-130 mmHg.<br>‚Ä¢ M·∫°ch: 60-80 l·∫ßn/ph√∫t." },
            { title: "CHI·ªÄU CAO (∆ØU TI√äN)", content: "‚Ä¢ Ng∆∞·ªùi d√¢n t·ªôc: Nam ‚â• 1m62, N·ªØ ‚â• 1m56.<br>‚Ä¢ ƒê·ªëi t∆∞·ª£ng UT1: Nam ‚â• 1m60, N·ªØ ‚â• 1m55.<br>‚Ä¢ T·ªët nghi·ªáp ƒê·∫°i h·ªçc: Nam ‚â• 1m62, N·ªØ ‚â• 1m56." }
        ];

        // D·ªÆ LI·ªÜU ƒêI·ªÄU KI·ªÜN & ƒê·ªêI T∆Ø·ª¢NG (T·ª™ FILE DOCX)
        const DIEU_KIEN_DATA = [
            { title: "ƒê·ªêI T∆Ø·ª¢NG TUY·ªÇN", content: "‚Ä¢ C√°n b·ªô C√¥ng an (Lƒ©nh v·ª±c nghi·ªáp v·ª•/K·ªπ thu·∫≠t).<br>‚Ä¢ Chi·∫øn sƒ© nghƒ©a v·ª• (t·∫°i ng≈© 15-24 th√°ng).<br>‚Ä¢ C√¥ng d√¢n th∆∞·ªùng tr√∫ t·∫°i ƒë·ªãa ph∆∞∆°ng." },
            { title: "ƒê·ªò TU·ªîI (T√çNH ƒê·∫æN NƒÇM D·ª∞ TUY·ªÇN)", content: "‚Ä¢ H·ªçc sinh ph·ªï th√¥ng: ‚â§ 22 tu·ªïi.<br>‚Ä¢ Ng∆∞·ªùi d√¢n t·ªôc thi·ªÉu s·ªë: ‚â§ 25 tu·ªïi.<br>‚Ä¢ C√°n b·ªô CA/VƒÉn b·∫±ng 2: ‚â§ 30 tu·ªïi." },
            { title: "TI√äU CHU·∫®N CH√çNH TR·ªä", content: "‚Ä¢ B·∫£n th√¢n v√† gia ƒë√¨nh ch·∫•p h√†nh t·ªët ph√°p lu·∫≠t.<br>‚Ä¢ L√Ω l·ªãch trong s·∫°ch (ki·ªÉm tra 3 ƒë·ªùi).<br>‚Ä¢ Ph·∫©m ch·∫•t ƒë·∫°o ƒë·ª©c t·ªët (H·∫°nh ki·ªÉm Kh√°/T·ªët)." }
        ];

        /****************************************************************
         * 2. KHO TRI TH·ª®C TH√îNG MINH
         ****************************************************************/
        const KNOWLEDGE_BASE = [
            { 
                keys: ['h·ªì s∆°', 'c·∫ßn g√¨', 'gi·∫•y t·ªù'], 
                answer: "<b>H·ªì s∆° ƒëƒÉng k√Ω s∆° tuy·ªÉn g·ªìm:</b><br>1. Phi·∫øu ƒëƒÉng k√Ω (nh·∫≠n t·∫°i CA x√£).<br>2. H·ªçc b·∫° THPT (C√¥ng ch·ª©ng).<br>3. CCCD (C√¥ng ch·ª©ng).<br>4. Gi·∫•y khai sinh.<br>5. 4 ·∫£nh 4x6.<br><i>Chi ti·∫øt xem t·∫°i Menu > ƒêi·ªÅu ki·ªán.</i>" 
            },
            { 
                keys: ['tu·ªïi', 'sinh nƒÉm', 'ƒë·ªô tu·ªïi'], 
                answer: "<b>Quy ƒë·ªãnh ƒë·ªô tu·ªïi (M·ªõi nh·∫•t):</b><br>- H·ªçc sinh ph·ªï th√¥ng: Kh√¥ng qu√° 22 tu·ªïi.<br>- Ng∆∞·ªùi d√¢n t·ªôc thi·ªÉu s·ªë: Kh√¥ng qu√° 25 tu·ªïi.<br>- C√°n b·ªô/VƒÉn b·∫±ng 2: Kh√¥ng qu√° 30 tu·ªïi." 
            },
            { 
                keys: ['chi·ªÅu cao', 'c√¢n n·∫∑ng', 'bmi', '62/2023'], 
                answer: "<b>Ti√™u chu·∫©n chi·ªÅu cao (TT 62):</b><br>- <b>Nam:</b> ‚â• 1m64 (D√¢n t·ªôc ‚â• 1m62; UT1 ‚â• 1m60).<br>- <b>N·ªØ:</b> ‚â• 1m58 (D√¢n t·ªôc ‚â• 1m56; UT1 ‚â• 1m55).<br>- <b>BMI:</b> 18.5 - 29.9." 
            },
            { 
                keys: ['m√°u', 'x√©t nghi·ªám', 'vi√™m gan', 'hiv', 'ma t√∫y'], 
                answer: "<b>N·ªôi dung kh√°m c·∫≠n l√¢m s√†ng (TT 62):</b><br>- M√°u: HIV, Vi√™m gan B, C, ƒë∆∞·ªùng huy·∫øt, ch·ª©c nƒÉng gan th·∫≠n.<br>- N∆∞·ªõc ti·ªÉu: T√¨m ch·∫•t ma t√∫y.<br>- Ch·∫©n ƒëo√°n: X-quang ph·ªïi, Si√™u √¢m b·ª•ng, ƒêi·ªán tim."
            },
            { 
                keys: ['m·∫Øt', 'c·∫≠n', 'th·ªã l·ª±c'], 
                answer: "<b>Ti√™u chu·∫©n M·∫Øt:</b><br>- C·∫≠n th·ªã: Kh√¥ng qu√° 3 diop.<br>- Th·ªã l·ª±c qua k√≠nh: ƒê·∫°t 19/10 t·ªïng 2 m·∫Øt.<br>- Kh√¥ng tuy·ªÉn: Lo·∫°n th·ªã, M√π m√†u." 
            },
            {
                keys: ['xƒÉm', 's·∫πo', 'phun m√¥i'],
                answer: "<b>Quy ƒë·ªãnh Th·∫©m m·ªπ:</b> C·∫•m tuy·ªát ƒë·ªëi h√¨nh xƒÉm, ch·ªØ xƒÉm tr√™n da. Phun xƒÉm th·∫©m m·ªπ (n·ªØ) ph·∫£i t·ª± nhi√™n. S·∫πo l·ªìi/x·∫•u ·ªü v·ªã tr√≠ l·ªô di·ªán s·∫Ω b·ªã lo·∫°i."
            },
            {
                keys: ['n∆°i n·ªôp', 'x√£', 'huy·ªán', '·ªü ƒë√¢u', 's∆° tuy·ªÉn', 'th√¥ng t∆∞ 99'],
                answer: "<b>Theo Th√¥ng t∆∞ 99/2025:</b> Th√≠ sinh n·ªôp h·ªì s∆° v√† s∆° tuy·ªÉn tr·ª±c ti·∫øp t·∫°i <b>C√îNG AN C·∫§P X√É</b> n∆°i ƒëƒÉng k√Ω th∆∞·ªùng tr√∫. Kh√¥ng c·∫ßn l√™n C√¥ng an huy·ªán."
            },
            {
                keys: ['nghƒ©a v·ª•', 'ƒë·∫°i h·ªçc ƒëi nghƒ©a v·ª•', '2025', '∆∞u ti√™n'],
                answer: "<b>ƒêi·ªÉm m·ªõi Tuy·ªÉn qu√¢n 2025:</b> Khuy·∫øn kh√≠ch c√¥ng d√¢n c√≥ tr√¨nh ƒë·ªô ƒê·∫°i h·ªçc, Cao ƒë·∫≥ng tham gia nghƒ©a v·ª• CAND. ƒê√¢y l√† ngu·ªìn quan tr·ªçng ƒë·ªÉ x√©t chuy·ªÉn chuy√™n nghi·ªáp l√¢u d√†i trong l·ª±c l∆∞·ª£ng."
            }
        ];

        const SUGGESTIONS = [
            { label: "S·ª®C KH·ªéE (TT62)", query: "Chi·ªÅu cao BMI 62/2023" },
            { label: "X√âT NGHI·ªÜM M√ÅU", query: "X√©t nghi·ªám vi√™m gan ma t√∫y" },
            { label: "QUY ƒê·ªäNH TU·ªîI", query: "ƒê·ªô tu·ªïi d·ª± tuy·ªÉn" },
            { label: "N∆†I N·ªòP H·ªí S∆†", query: "N∆°i n·ªôp h·ªì s∆° s∆° tuy·ªÉn" }
        ];

        /****************************************************************
         * LOGIC V·∫¨N H√ÄNH
         ****************************************************************/
        const chatBox = document.getElementById('chatBox');
        const userInput = document.getElementById('userInput');

        function initApp() {
            // Render Suggestions
            const sBox = document.getElementById('suggestionBox');
            SUGGESTIONS.forEach(s => {
                const chip = document.createElement('div');
                chip.className = 'suggestion-chip';
                chip.innerText = s.label;
                chip.onclick = () => ask(s.query);
                sBox.appendChild(chip);
            });

            // Watermark
            const wm = document.getElementById('watermark');
            for (let i = 0; i < 16; i++) {
                const d = document.createElement('div');
                d.className = 'watermark-item';
                d.innerText = 'PX01 QU·∫¢NG TR·ªä';
                wm.appendChild(d);
            }

            renderModalData();
            addMessage("<b>K√≠nh ch√†o ƒê·ªìng ch√≠! ƒê√¢y l√† tr·ª£ l√Ω ·∫£o tr·ª±c tuy·∫øn Tuy·ªÉn sinh nƒÉm 2026 c·ªßa Ph√≤ng T·ªï ch·ª©c c√°n b·ªô - C√¥ng an t·ªânh Qu·∫£ng Tr·ªã, k√≠nh m·ªùi ƒë·ªìng ch√≠, th√≠ sinh, ph·ª• huynh ƒë·∫∑t c√¢u h·ªèi tra c·ª©u.", "bot");
        }

        function renderModalData() {
            // S·ª©c kh·ªèe
            document.getElementById('list-suckhoe').innerHTML = SUC_KHOE_DATA.map(i => `
                <div class="p-3 bg-white border border-red-100 rounded-lg shadow-sm">
                    <p class="text-xs font-bold text-[#ce181e] uppercase">‚öïÔ∏è ${i.title}</p>
                    <p class="text-[11px] text-gray-700 mt-1 leading-relaxed">${i.content}</p>
                </div>
            `).join('');

            // ƒêi·ªÅu ki·ªán
            document.getElementById('list-dieukien').innerHTML = DIEU_KIEN_DATA.map(i => `
                <div class="p-3 bg-white border border-gray-200 rounded-lg shadow-sm">
                    <p class="text-xs font-bold text-gray-800 uppercase text-[#ce181e]">üìå ${i.title}</p>
                    <p class="text-[11px] text-gray-600 mt-1 leading-relaxed">${i.content}</p>
                </div>
            `).join('');

            // Danh b·∫° (Render l·∫ßn ƒë·∫ßu)
            filterContact();
        }

        function filterContact() {
            const term = document.getElementById('searchContact').value.toLowerCase();
            const filtered = DANH_BA_DATA.filter(i => 
                i.unit.toLowerCase().includes(term) || 
                i.name.toLowerCase().includes(term)
            );
            
            document.getElementById('list-danhba').innerHTML = filtered.map(i => `
                <div class="p-3 bg-white border border-gray-200 rounded-lg flex justify-between items-center hover:border-red-300 transition-all shadow-sm">
                    <div>
                        <p class="text-[11px] font-bold text-gray-800">${i.unit}</p>
                        <p class="text-[10px] text-gray-500 uppercase font-bold mt-0.5"><i class="fas fa-user-shield mr-1"></i>${i.name}</p>
                    </div>
                    <a href="tel:${i.phone.replace(/\./g, '')}" class="text-[11px] font-black text-[#ce181e] bg-red-50 px-2 py-1 rounded border border-red-100 hover:bg-red-600 hover:text-white transition-colors">
                        ${i.phone}
                    </a>
                </div>
            `).join('');
        }

        function addMessage(text, side) {
            const msgDiv = document.createElement('div');
            msgDiv.className = `msg ${side}`;
            msgDiv.innerHTML = `<div class="bubble">${text}</div>`;
            chatBox.appendChild(msgDiv);
            chatBox.scrollTo({ top: chatBox.scrollHeight, behavior: 'smooth' });
        }

        function handleSend() {
            const text = userInput.value.trim();
            if (!text) return;

            addMessage(text, 'user');
            userInput.value = '';

            setTimeout(() => {
                const query = text.toLowerCase();
                const response = KNOWLEDGE_BASE.find(i => i.keys.some(k => query.includes(k)));
                
                if(response) {
                    addMessage(response.answer, 'bot');
                } else {
                    addMessage("Th√¥ng tin n√†y ƒëang ƒë∆∞·ª£c c·∫≠p nh·∫≠t. ƒê·ªìng ch√≠ vui l√≤ng tra c·ª©u trong ph·∫ßn <b>Danh b·∫°</b> (g√≥c ph·∫£i) ho·∫∑c li√™n h·ªá tr·ª±c ti·∫øp <b>ƒê/c ƒê·∫°i √∫y L√™ Ho√†ng Trung (0977.556.858 - 0823.373.373)</b>.", "bot");
                }
            }, 500);
        }

        function ask(q) {
            userInput.value = q;
            handleSend();
        }

        function toggleModal(id) {
            const m = document.getElementById(id);
            m.style.display = (m.style.display === 'flex') ? 'none' : 'flex';
        }

        function switchTab(btn, tabId) {
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.add('hidden'));
            btn.classList.add('active');
            document.getElementById(tabId).classList.remove('hidden');
        }

        userInput.onkeydown = (e) => { if(e.key === "Enter") handleSend(); };
        window.onload = initApp;
    </script>
</body>
</html>
